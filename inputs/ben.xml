<simulation>
    <control>
        <duration>721</duration>
        <startmonth>1</startmonth>
        <startyear>2018</startyear>
        <decay>never</decay>
        <explicit_inventory>true</explicit_inventory>
    </control>
    <archetypes>
        <spec>
            <lib>cycamore</lib>
            <name>Enrichment</name>
        </spec>
        <spec>
            <lib>cycamore</lib>
            <name>Reactor</name>
        </spec>
        <spec>
            <lib>cycamore</lib>
        <name>Source</name>
        </spec>
        <spec>
            <lib>cycamore</lib>
            <name>Sink</name>
        </spec>
        <spec>
            <lib>cycamore</lib>
            <name>Separations</name>
        </spec>
        <spec>
            <lib>cycamore</lib>
            <name>Mixer</name>
        </spec>
        <spec>
            <lib>agents</lib>
            <name>NullRegion</name>
        </spec>
        <spec>
            <lib>agents</lib>
            <name>NullInst</name>
        </spec>
    </archetypes>

    <commodity>
        <name>u_ore</name>
        <solution_priority>1.0</solution_priority>
    </commodity>
    <commodity>
        <name>fresh_uox</name>
        <solution_priority>1.0</solution_priority>
    </commodity>
    <commodity>
        <name>tails</name>
        <solution_priority>1.0</solution_priority>
    </commodity>
    <commodity>
        <name>fresh_mox</name>
        <solution_priority>1.0</solution_priority>
    </commodity>
    <commodity>
        <name>spent_fuel</name>
        <solution_priority>1.0</solution_priority>
    </commodity>
    <commodity>
        <name>waste</name>
        <solution_priority>1.0</solution_priority>
    </commodity>
    <commodity>
        <name>sep_pu</name>
        <solution_priority>1.0</solution_priority>
    </commodity>
    <commodity>
        <name>spent_uox</name>
        <solution_priority>1.0</solution_priority>
    </commodity>

    <recipe>
        <name>nat_u</name>
        <basis>mass</basis>
        <nuclide>
            <id>92235</id>
            <comp>0.00711</comp>
        </nuclide>
        <nuclide>
            <id>92238</id>
            <comp>0.99289</comp>
        </nuclide>
    </recipe>
    <recipe>
        <name>fresh_uox</name>
        <basis>mass</basis>
        <nuclide>
            <id>92235</id>
            <comp>0.0495</comp>
        </nuclide>
        <nuclide>
            <id>92238</id>
            <comp>0.9505</comp>
        </nuclide>
    </recipe>
    <recipe>
        <name>fresh_mox</name>
        <basis>mass</basis>
        <nuclide>
            <id>94239</id>
            <comp>0.08</comp>
        </nuclide>
        <nuclide>
            <id>92238</id>
            <comp>0.92</comp>
        </nuclide>
    </recipe>
    <recipe>
        <name>spent_fuel</name>
        <basis>mass</basis>
        <nuclide>
            <id>92238</id>
            <comp>0.92</comp>
        </nuclide>
        <nuclide>
            <id>94239</id>
            <comp>0.015</comp>
        </nuclide>
        <nuclide>
            <id>55137</id>
            <comp>0.065</comp>
        </nuclide>
    </recipe>

    <facility>
        <name>PWR</name>
        <config>
        <Reactor>
            <fuel_incommods>
                <val>fresh_uox</val>
                <val>fresh_mox</val>
            </fuel_incommods>
            <fuel_prefs>
                <val>1.0</val>
                <val>2.0</val>
            </fuel_prefs>
            <fuel_inrecipes>
                <val>fresh_uox</val>
                <val>fresh_mox</val>
            </fuel_inrecipes>
            <fuel_outcommods>
                <val>spent_fuel</val>
                <val>spent_mox</val>
            </fuel_outcommods>
            <fuel_outrecipes>
                <val>spent_fuel</val>
                <val>spent_fuel</val>
            </fuel_outrecipes>
            <cycle_time>17</cycle_time>
            <refuel_time>1</refuel_time>
            <assem_size>30000</assem_size>
            <n_assem_core>3</n_assem_core>
            <n_assem_batch>1</n_assem_batch>
            <power_cap>1148</power_cap>
        </Reactor>
        </config>
    </facility>
    
    <facility>
        <name>UraniumMine</name>
        <config>
        <Source>
            <outcommod>u_ore</outcommod>
        </Source>
        </config>
    </facility>
    
    <facility>
        <name>NuclearRepository</name>
        <config>
        <Sink>
            <in_commods>
                <val>waste</val>
                <val>spent_mox</val>
            </in_commods>
        </Sink>
        </config>
    </facility>
    
    <facility>
        <name>EnrichmentPlant</name>
        <config>
        <Enrichment>
            <feed_commod>u_ore</feed_commod>
            <feed_recipe>nat_u</feed_recipe>
            <product_commod>fresh_uox</product_commod>
            <tails_commod>tails</tails_commod>
            <initial_feed>2000000</initial_feed>
            <max_feed_inventory>2000000</max_feed_inventory>
        </Enrichment>
        </config>
    </facility>

    <facility>
        <name>MoxPlant</name>
        <config>
        <Mixer>
            <in_streams>
                <stream>
                    <info>
                        <mixing_ratio>0.08</mixing_ratio>
                        <buf_size>90000000</buf_size>
                    </info>
                    <commodities>
                        <item>
                            <commodity>sep_pu</commodity>
                            <pref>1.0</pref>
                        </item>
                    </commodities>
                </stream>
                <stream>
                    <info>
                        <mixing_ratio>0.92</mixing_ratio>
                        <buf_size>9000000</buf_size>
                    </info>
                    <commodities>
                        <item>
                            <commodity>tails</commodity>
                            <pref>1.0</pref>
                        </item>
                    </commodities>
                </stream>
            </in_streams>
            <out_commod>fresh_mox</out_commod>
        </Mixer>
        </config>
    </facility>

    <facility>
        <name>Reprocessing</name>
        <config>
        <Separations>
            <feed_commods>
                <val>spent_fuel</val>
            </feed_commods>
            <feed_recipe>spent_fuel</feed_recipe>
            <feedbuf_size>9000000</feedbuf_size>
            <leftover_commod>waste</leftover_commod>
            <streams>
                <item>
                    <commod>sep_pu</commod>
                    <info>
                        <buf_size>9000000</buf_size>
                        <efficiencies>
                            <item> 
                                <comp>94239</comp>
                                <eff>0.999</eff>
                            </item>
                        </efficiencies>
                    </info>
                </item>
            </streams>
        </Separations>
        </config>
    </facility>

    <region>
        <name>USA</name>
        <config>
            <NullRegion/>
        </config>
        <institution>
            <initialfacilitylist>
                <entry>
                    <prototype>PWR</prototype>
                    <number>1</number>
                </entry>
            </initialfacilitylist>
            <name>Exelon</name>
            <config>
                <NullInst/>
            </config>
        </institution>
        <institution>
            <initialfacilitylist>
                <entry>
                    <prototype>UraniumMine</prototype>
                    <number>1</number>
                </entry>
                <entry>
                    <prototype>EnrichmentPlant</prototype>
                    <number>1</number>
                </entry>
                <entry>
                    <prototype>NuclearRepository</prototype>
                    <number>1</number>
                </entry>
                <entry>
                    <prototype>Reprocessing</prototype>
                    <number>1</number>
                </entry>
                <entry>
                    <prototype>MoxPlant</prototype>
                    <number>1</number>
                </entry>
            </initialfacilitylist>
            <name>United States Nuclear</name>
            <config>
                <NullInst/>
            </config>
        </institution>
    </region>
</simulation>
